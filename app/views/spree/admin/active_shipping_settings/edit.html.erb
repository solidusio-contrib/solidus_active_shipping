<%= render partial: 'spree/admin/shared/configuration_menu' %>

<% content_for :page_title do %>
  <%= I18n.t('spree.active_shipping_settings') %>
<% end %>

<%= form_tag admin_active_shipping_settings_path, method: :put  do |form| %>
  <div id="preferences" data-hook>
    <fieldset class="general no-border-top">
      <div class="row">
        <div class="col-5">
          <fieldset class="currency no-border-bottom">
            <legend align="center"><%= I18n.t('spree.ups_settings')%></legend>

            <% @preferences_UPS.each do |name| %>
              <div class="field">
                <%= render "spree/admin/shared/preference_fields/#{@config.preference_type(name)}",
                  name:  name.to_s,
                  value: @config[name],
                  label: t(name.to_s, scope: 'spree', default: name.to_s.humanize) %>
              </div>
            <% end %>
          </fieldset>
        </div>

        <div class="col-5">
          <fieldset class="currency no-border-bottom">
            <legend align="center"><%= I18n.t('spree.fedex_settings')%></legend>

            <% @preferences_FedEx.each do |name| %>
              <div class="field">
                <%= render "spree/admin/shared/preference_fields/#{@config.preference_type(name)}",
                  name:  name.to_s,
                  value: @config[name],
                  label: t(name.to_s, scope: 'spree', default: name.to_s.humanize) %>
              </div>
            <% end %>
          </fieldset>
        </div>

        <div class="col-5">
          <fieldset class="security no-border-bottom">
            <legend align="center"><%= I18n.t('spree.usps_settings')%></legend>

            <% @preferences_USPS.each do |name| %>
              <div class="field">
                <%= render "spree/admin/shared/preference_fields/#{@config.preference_type(name)}",
                  name:  name.to_s,
                  value: @config[name],
                  label: t(name.to_s, scope: 'spree', default: name.to_s.humanize) %>
              </div>
            <% end %>
          </fieldset>
        </div>

        <div class="col-5">
          <fieldset class="currency no-border-bottom">
            <legend align="center"><%= I18n.t('spree.canada_post_settings')%></legend>

            <% @preferences_CanadaPost.each do |name| %>
              <div class="field">
                <%= render "spree/admin/shared/preference_fields/#{@config.preference_type(name)}",
                  name:  name.to_s,
                  value: @config[name],
                  label: t(name.to_s, scope: 'spree', default: name.to_s.humanize) %>
              </div>
            <% end %>
          </fieldset>
        </div>

        <div class="col-5">
          <fieldset class="currency no-border-bottom">
            <legend align="center"><%= I18n.t('spree.canada_post_pws_settings')%></legend>

            <% @preferences_CanadaPostPws.each do |name| %>
              <div class="field">
                <%= render "spree/admin/shared/preference_fields/#{@config.preference_type(name)}",
                  name:  name.to_s,
                  value: @config[name],
                  label: t(name.to_s, scope: 'spree', default: name.to_s.humanize) %>
              </div>
            <% end %>
          </fieldset>
        </div>

        <div class="col-5">
          <fieldset class="currency no-border-bottom">
            <legend align="center"><%= I18n.t('spree.general_settings')%></legend>

            <% @preferences_GeneralSettings.each do |name| %>
              <div class="field">
                <%= render "spree/admin/shared/preference_fields/#{@config.preference_type(name)}",
                  name:  name.to_s,
                  value: @config[name],
                  label: t(name.to_s, scope: 'spree', default: name.to_s.humanize) %>
              </div>
            <% end %>
          </fieldset>
        </div>
      </div>

      <div class="form-buttons filter-actions actions" data-hook="buttons">
        <%= button I18n.t('spree.update') %>
        <%= button_link_to I18n.t('spree.cancel'), edit_admin_active_shipping_settings_url %>
      </div>
    </fieldset>
  </div>
<% end %>
